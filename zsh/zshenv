#!/usr/bin/env zsh
# ============================================
#  Zsh Environment Variables
# ============================================

# profiling
# zmodload zsh/zprof && zprof

# zsh default directory
export ZDOTDIR=$HOME/.zsh
export EDITOR=vim
export TERM="xterm-256color"

# Project setting
export PROJECT_HOME=$HOME/Projects
if [ -e /etc/lsb-release ]; then
  export WORKON_HOME=$HOME/.virtualenvs/ubuntu
else
  export WORKON_HOME=$HOME/.virtualenvs/arch
fi

if [[ "$(uname)" == "Darwin" ]]; then
  export OS=Mac
elif [[ "$(expr substr $(uname -s) 1 4)" == "MSYS" ]]; then
  export OS=Windows
elif [[ "$(expr substr $(uname -s) 1 5)" == "Linux" ]]; then
  if [ -e /etc/lsb-release ]; then
    export OS=Ubuntu
  elif [ -e /etc/arch-release ]; then
    export OS=Arch
  else
    export OS=Linux
  fi
else
  export OS=Unknown
fi

if [[ $OS == Ubuntu ]]; then
  # ubuntu specific binaries
  export PATH=$HOME/bin/ubuntu:$PATH

  # ubuntu local builds
  export PATH=$HOME/usr/bin:$PATH

  # go
  export GOROOT=/usr/local/go
  export PATH=$PATH:$GOROOT/bin
  export GOPATH=$HOME/.go
  export PATH=$PATH:$GOPATH/bin

  # nim
  export PATH=$HOME/.nimble/bin:$PATH

  # rust
  export PATH=$HOME/.cargo/bin:$PATH
  if type rustc > /dev/null 2>&1; then
    export RUST_SRC_PATH="$(rustc --print sysroot)/lib/rustlib/src/rust/src"
  fi

  # node
  export PATH=$HOME/opt/node/bin:$PATH
fi

# pip --user
export PATH=$HOME/.local/bin:$PATH

# npm
export PATH=$HOME/.node_modules/bin:$PATH
export npm_config_prefix=~/.node_modules

# ruby gem
export PATH=$HOME/.gem/ruby/2.5.0/bin:$PATH

# load machine local profile
[[ -f .zshenv.local ]] && source .zshenv.local

# vim: sw=2 et
