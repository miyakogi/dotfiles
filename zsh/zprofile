#!/usr/bin/env zsh
# ===============================================
# zsh loads this file only if it is a login-shell
# ===============================================

# start graphical session
if systemctl -q is-active graphical.target && [[ -z $DISPLAY && $XDG_VTNR -eq 1 && $OSNAME == "Arch" ]]; then
  echo -n "Select WM/DE [bspwm, i3, kde, lxqt (default: bspwm)]:\n>>> "
  read wm
  if [[ -z $wm ]]; then
    wm="bspwm"
  fi

  exec startx ~/.xinitrc $wm -- -maxclients 2048
fi

# load machine local profile
[[ -f $ZDOTDIR/.zprofile.local ]] && source $ZDOTDIR/.zprofile.local

# vim: sw=2 et
